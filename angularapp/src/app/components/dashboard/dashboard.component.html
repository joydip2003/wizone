<app-adminnav></app-adminnav>
<br />
<div class="dashboard-container">
  <h2>WiZone Admin Dashboard</h2>
  <p class="tagline">Your gateway to seamless connectivity</p>

  <div class="stats">
    <div class="stat-card">
      <h3>Total Schemes</h3>
      <p>{{ totalSchemes }}</p>
    </div>
    <div class="stat-card">
      <h3>Available</h3>
      <p>{{ availableCount }}</p>
    </div>
    <div class="stat-card">
      <h3>Unavailable</h3>
      <p>{{ unavailableCount }}</p>
    </div>
    <div class="progress-circle">
      <svg viewBox="0 0 36 36" class="circular-chart">
        <path
          class="circle-bg"
          d="M18 2.0845
             a 15.9155 15.9155 0 0 1 0 31.831
             a 15.9155 15.9155 0 0 1 0 -31.831"
        />
        <path
          class="circle"
          [attr.stroke-dasharray]="availabilityPercentage + ', 100'"
          d="M18 2.0845
             a 15.9155 15.9155 0 0 1 0 31.831
             a 15.9155 15.9155 0 0 1 0 -31.831"
        />
  
        <text x="18" y="20.35" class="percentage">{{ availabilityPercentage }}%</text>
      </svg>
      
    </div>
  </div>

  <button (click)="toggleAvailability()">
    {{ showAvailableOnly ? 'Show Unavailable Schemes' : 'Show Available Schemes' }}
  </button>

  <ul class="scheme-list">
    <li
      *ngFor="let scheme of (showAvailableOnly ? availableSchemes : unavailableSchemes)"
      [ngClass]="scheme.availabilityStatus === 'Available' ? 'available' : 'unavailable'"
    >
      {{ scheme.schemeName }} - {{ scheme.availabilityStatus }}
    </li>
  </ul>
</div>
